(function(e){function t(t){for(var r,o,n=t[0],c=t[1],l=t[2],d=0,p=[];d<n.length;d++)o=n[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&p.push(s[o][0]),s[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(p.length)p.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],r=!0,n=1;n<a.length;n++){var c=a[n];0!==s[c]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=a[0]))}return e}var r={},s={app:0},i=[];function o(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=r,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],c=n.push.bind(n);n.push=t,n=n.slice();for(var l=0;l<n.length;l++)t(n[l]);var u=c;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0483":function(e,t,a){},"3d6e":function(e,t,a){},4230:function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t),a.d(t,"fb",(function(){return Xt})),a.d(t,"db",(function(){return ea})),a.d(t,"auth",(function(){return ta})),a.d(t,"googleProvider",(function(){return aa})),a.d(t,"facebookProvider",(function(){return ra}));a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("app-header",{}),a("v-content",[a("router-view")],1)],1)},i=[],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-app-bar",{attrs:{color:"teal",flat:"",app:""}},[a("v-app-bar-nav-icon",{staticClass:"white--text ",on:{click:function(t){e.drawer=!e.drawer}}}),a("v-toolbar-title",{staticClass:"  white--text"},[a("span",{staticClass:"font-weight-light"},[e._v("Cool")]),a("span",[e._v("Recipes")])]),a("v-spacer",{}),e.isLogged?e._e():a("Login"),e.isLogged?e._e():a("Register"),a("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/recipeform"}},[e.isLogged?a("v-btn",{staticClass:"white--text font-weight-normal",staticStyle:{"font-size":"0.7rem"},attrs:{text:""}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-plus")]),a("span",[e._v("Dodaj przepis!")])],1):e._e()],1),e.isLogged?a("v-btn",{staticClass:"white--text font-weight-normal",staticStyle:{"font-size":"0.7rem"},attrs:{text:""},on:{click:e.logout}},[a("span",[e._v("Wyloguj")]),a("v-icon",{attrs:{right:""}},[e._v("mdi-exit-to-app")])],1):e._e()],1),a("v-navigation-drawer",{attrs:{color:"teal",left:"",app:"",dark:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-list",{staticClass:"py-0",attrs:{dense:"",nav:""}},[a("v-row",{staticClass:"align-center justify-center mt-5 mb-3 flex-column"},[this.user.token?a("v-avatar",{attrs:{size:"100"}},[a("img",{attrs:{src:e.user.photo,alt:""}})]):e._e(),a("p",{staticClass:"white--text subtitle-1 mt-1"},[e._v(" "+e._s(this.userName)+" ")]),e.loginButton?a("Login"):e._e()],1),a("v-divider",{staticClass:"my-2"}),e._l(e.pages,(function(t){return e.isLogged||!e.isLogged&&"visible"==t.login?a("v-list-item",{key:t.title,attrs:{link:"",router:"",to:t.path}},[a("v-list-item-icon",[a("v-icon",[e._v(e._s(t.icon))])],1),a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(t.title))])],1)],1):e._e()}))],2)],1)],1)},n=[],c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({staticClass:"white--text text--lighten-2",staticStyle:{"font-size":"0.7rem"},attrs:{text:""}},r),[a("span",[e._v("Zarejestruj się")])])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline teal white--text",attrs:{color:"teal",teal:"","primary-title":""}},[e._v("Dołącz do nas!")]),a("v-card-text",{staticClass:"pa-5"},[a("v-form",{ref:"form"},[a("v-text-field",{attrs:{color:"teal",label:"E-mail",rules:[e.rules.required,e.rules.email]},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-text-field",{attrs:{color:"teal",label:"Nick",rules:[e.rules.required,e.rules.userUnique]},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}}),a("v-text-field",{attrs:{color:"teal",label:"Hasło","append-icon":e.show1?"mdi-eye":"mdi-eye-off",type:e.show1?"text":"password",rules:[e.rules.required,e.rules.minLength]},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("v-text-field",{attrs:{color:"teal",label:"Powtórz Hasło",rules:[e.rules.required,e.rules.matchPassword],"append-icon":e.show2?"mdi-eye":"mdi-eye-off",type:e.show2?"text":"password"},on:{"click:append":function(t){e.show2=!e.show2}},model:{value:e.passwordConfirm,callback:function(t){e.passwordConfirm=t},expression:"passwordConfirm"}})],1)],1),a("v-divider"),a("v-card-actions",[a("v-btn",{staticClass:"white--text",attrs:{color:"teal",loading:e.loading},on:{click:e.submit}},[e._v("Wyślij")]),a("v-btn",{staticClass:"white--text",attrs:{color:"error"},on:{click:function(t){e.dialog=!1}}},[e._v("Zamknij")])],1)],1),a("v-snackbar",{staticClass:"white--text",attrs:{timeout:4e3,color:"error",top:!0},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.alertText)+" "),a("v-btn",{attrs:{color:"white",text:""},on:{click:function(t){e.snackbar=!1}}},[e._v(" Close ")])],1)],1)},l=[],u=(a("caad"),a("2532"),{data:function(){var e=this;return{email:"",alertText:"",snackbar:!1,password:"",loading:!1,passwordConfirm:"",userName:"",rules:{required:function(e){return!!e||"To pole jest wymagane!"},email:function(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)||"Niepoprawny email!"},minLength:function(e){return e.length>=8||"Hasło musi mieć minimum 8 znaków!"},matchPassword:function(t){return t==e.password||"Hasła muszą być takie same!"},userUnique:function(t){return!e.users.includes(t)||"Ten nick jest już zajęty!"}},show1:!1,show2:!1,dialog:!1}},methods:{submit:function(){if(this.$refs.form.validate()){var e={email:this.email,password:this.password,userName:this.userName};this.loading=!0,this.$store.dispatch("signUp",e)}}},computed:{users:function(){return this.$store.getters.getUsers},signUpErrors:function(){return this.$store.getters.getSignUpErrors}},created:function(){this.$store.dispatch("getUsers")},watch:{signUpErrors:function(){"auth/email-already-in-use"==this.signUpErrors.code&&(this.alertText="Ten email jest już zarejestrowany",this.snackbar=!0,this.loading=!1)}}}),d=u,p=a("2877"),m=a("6544"),v=a.n(m),f=a("8336"),h=a("b0af"),g=a("99d9"),b=a("169a"),w=a("ce7e"),y=a("4bd4"),_=a("2db4"),k=a("8654"),x=Object(p["a"])(d,c,l,!1,null,null,null),C=x.exports;v()(x,{VBtn:f["a"],VCard:h["a"],VCardActions:g["a"],VCardText:g["b"],VCardTitle:g["c"],VDialog:b["a"],VDivider:w["a"],VForm:y["a"],VSnackbar:_["a"],VTextField:k["a"]});var I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({staticClass:"white--text",staticStyle:{"font-size":"0.7rem"},attrs:{text:""}},r),[a("span",[e._v("Zaloguj się")])])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline teal white--text",attrs:{color:"teal",teal:"","primary-title":""}},[e._v("Zaloguj się!")]),a("v-card-text",{staticClass:"pa-5"},[a("v-form",{ref:"form"},[a("v-text-field",{attrs:{color:"teal",label:"E-mail",rules:[e.rules.required,e.rules.email]},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-text-field",{attrs:{color:"teal",label:"Hasło","append-icon":e.show1?"mdi-eye":"mdi-eye-off",type:e.show1?"text":"password",rules:[e.rules.required,e.rules.minLength]},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),a("p",[e._v("lub zaloguj się przez:")]),a("v-btn",{on:{click:e.signInWithGoogle}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-plus")]),a("p",{staticClass:"ma-0"},[e._v("Google")])],1),a("v-btn",{staticClass:"white--text",attrs:{color:"#3578E5"},on:{click:e.signInWithFacebook}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-facebook")]),a("p",{staticClass:"ma-0"},[e._v("Facebook")])],1),a("p",[e._v("Nie masz jeszcze konta? Zarejestruj się!")]),a("Register")],1),a("v-divider"),a("v-card-actions",[a("v-btn",{staticClass:"white--text",attrs:{color:"teal",loading:e.loading},on:{click:e.submit}},[e._v("Wyślij")]),a("v-btn",{staticClass:"white--text",attrs:{color:"error"},on:{click:function(t){e.dialog=!1}}},[e._v("Zamknij")])],1)],1),a("v-snackbar",{staticClass:"white--text",attrs:{timeout:4e3,color:"error",top:!0},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.alertText)+" "),a("v-btn",{attrs:{color:"white",text:""},on:{click:function(t){e.snackbar=!1}}},[e._v(" Close ")])],1)],1)},D=[],V={data:function(){return{alertText:"",snackbar:!1,email:"",password:"",loading:!1,rules:{required:function(e){return!!e||"To pole jest wymagane!"},email:function(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)||"Niepoprawny email!"},minLength:function(e){return e.length>=8||"Hasło musi mieć minimum 8 znaków!"}},show1:!1,dialog:!1}},methods:{submit:function(){if(this.$refs.form.validate()){var e={email:this.email,password:this.password};this.loading=!0,this.$store.dispatch("signIn",e)}},signInWithGoogle:function(){this.$store.dispatch("signInWithGoogle")},signInWithFacebook:function(){this.$store.dispatch("signInWithFacebook")}},components:{Register:C},computed:{loginErrors:function(){return this.$store.getters.getLoginErrors}},watch:{loginErrors:function(){"auth/user-not-found"==this.loginErrors.code?(this.alertText="Nie znaleziono użytkownika, spróbuj ponownie",this.snackbar=!0,this.loading=!1):"auth/wrong-password"==this.loginErrors.code&&(this.alertText="Nieprawidłowe hasło!",this.snackbar=!0,this.loading=!1)}}},U=V,R=a("132d"),S=Object(p["a"])(U,I,D,!1,null,null,null),j=S.exports;v()(S,{VBtn:f["a"],VCard:h["a"],VCardActions:g["a"],VCardText:g["b"],VCardTitle:g["c"],VDialog:b["a"],VDivider:w["a"],VForm:y["a"],VIcon:R["a"],VSnackbar:_["a"],VTextField:k["a"]});var T={data:function(){return{drawer:!0,pages:[{title:"Katalog",icon:"mdi-view-dashboard",path:"/",login:"visible"},{title:"Mój Profil",icon:"mdi-account",path:"/myprofile",login:"hidden"},{title:"Moja książka kucharska",icon:"mdi-book-open-page-variant",path:"/cookbook",login:"hidden"}],color:"teal",miniVariant:!0,background:!1,loginButton:!0}},components:{Register:C,Login:j},computed:{isLogged:function(){return null!=this.$store.getters.getUserData.token},userName:function(){if(null!=this.$store.getters.getUserData.userName)return this.loginButton=!1,this.$store.getters.getUserData.userName;this.loginButton=!0},user:function(){return this.$store.getters.getUserData}},methods:{logout:function(){this.$store.dispatch("logout"),"/"!=this.$route.path&&this.$router.push("/")}}},z=T,$=a("40dc"),N=a("5bc1"),E=a("8212"),L=a("a523"),B=a("8860"),O=a("da13"),A=a("5d23"),F=a("34c3"),P=a("f774"),W=a("0fd9"),M=a("2fa4"),q=a("2a7f"),Z=Object(p["a"])(z,o,n,!1,null,"04f81be0",null),H=Z.exports;v()(Z,{VAppBar:$["a"],VAppBarNavIcon:N["a"],VAvatar:E["a"],VBtn:f["a"],VContainer:L["a"],VDivider:w["a"],VIcon:R["a"],VList:B["a"],VListItem:O["a"],VListItemContent:A["a"],VListItemIcon:F["a"],VListItemTitle:A["b"],VNavigationDrawer:P["a"],VRow:W["a"],VSpacer:M["a"],VToolbarTitle:q["a"]});var G={name:"App",components:{appHeader:H},created:function(){this.$store.dispatch("autoLogin"),this.$store.dispatch("loadRecipes")},data:function(){return{}}},K=G,J=a("7496"),Y=a("a75b"),Q=Object(p["a"])(K,s,i,!1,null,null,null),X=Q.exports;v()(Q,{VApp:J["a"],VContent:Y["a"]});var ee=a("8c4f"),te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"name"}},[e._v("Imie")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",name:"name"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),a("label",{attrs:{for:"surname"}},[e._v("Nazwisko")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.surname,expression:"surname"}],attrs:{type:"text",name:"surname"},domProps:{value:e.surname},on:{input:function(t){t.target.composing||(e.surname=t.target.value)}}}),a("label",{attrs:{for:"age"}},[e._v("Wiek")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.age,expression:"age"}],attrs:{type:"text",name:"age"},domProps:{value:e.age},on:{input:function(t){t.target.composing||(e.age=t.target.value)}}})]),a("button",{staticClass:"btn btn-primary",on:{click:e.submitForm}},[e._v("Wyślij")])])},ae=[],re=(a("b0c0"),a("5530")),se=a("2f62"),ie={data:function(){return{name:"",surname:"",age:""}},methods:Object(re["a"])({},Object(se["b"])({setData:"setUserData",pushUserData:"pushData"}),{submitForm:function(){var e={name:this.name,surname:this.surname,age:this.age};this.setData(e),this.pushUserData(),this.name="",this.surname="",this.age=""}})},oe=ie,ne=Object(p["a"])(oe,te,ae,!1,null,null,null),ce=ne.exports,le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._l(e.data,(function(t,r){return a("div",{staticClass:"card"},[a("div",{staticClass:"card-title"},[e._v("Dane")]),a("div",{staticClass:"card-body"},[a("label",{attrs:{for:""}},[e._v("Imię:")]),a("p",[e._v(e._s(t.name))]),a("label",{attrs:{for:""}},[e._v("Nazwisko:")]),a("p",[e._v(e._s(t.surname))]),a("label",{attrs:{for:""}},[e._v("Wiek:")]),a("p",[e._v(e._s(t.age))]),a("button",{staticClass:"btn btn-danger",on:{click:function(t){return e.deleteData(r)}}},[e._v("Delete")])])])})),e.show?a("div",{staticClass:"alert alert-danger"},[e._v(" Nie znaleziono danych :c ")]):e._e()],2)},ue=[],de=(a("c975"),a("a434"),{props:["searchValue"],data:function(){return{show:!1}},methods:Object(re["a"])({},Object(se["b"])({getMyData:"getData",deleteData:"deleteUserData"}),{getData:function(){this.getMyData()},deleteData:function(e){confirm("Are you sure?")&&this.data.splice(e,1)},setShow:function(e,t){this.show=e==t}}),computed:Object(re["a"])({},Object(se["c"])({data:"getUserData"})),watch:{searchValue:function(){var e,t,a,r,s,i,o=0;for(e=this.searchValue.toUpperCase(),t=document.getElementsByClassName("card"),a=document.getElementsByClassName("card-title"),r=document.getElementsByClassName("card-body"),s=0;s<t.length;s++){i=r[s].getElementsByTagName("p");a[s].innerHTML;for(var n=0;n<i.length;n++){var c=i[n].innerHTML;if(c.toUpperCase().indexOf(e)>-1){t[s].style.display="";break}t[s].style.display="none"}}for(s=0;s<t.length;s++)"none"==t[s].style.display&&o++;this.setShow(o,t.length),o=0}}}),pe=de,me=Object(p["a"])(pe,le,ue,!1,null,null,null),ve=me.exports,fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{},[a("v-chip",{staticClass:"mr-2 sort-chip",attrs:{filter:"","filter-icon":"mdi-chevron-up","input-value":!0},on:{click:function(t){return e.sortRecipes("date","asc")}}},[e._v("Czas dodania")]),a("v-chip",{staticClass:"mr-2 sort-chip",attrs:{filter:"","filter-icon":"mdi-chevron-down","input-value":!0},on:{click:function(t){return e.sortRecipes("date","desc")}}},[e._v("Czas dodania")]),a("v-chip",{staticClass:"mr-2 sort-chip",attrs:{filter:"","filter-icon":"mdi-chevron-up","input-value":!0},on:{click:function(t){return e.sortRecipes("name","asc")}}},[e._v("Nazwa")]),a("v-chip",{staticClass:"mr-2 sort-chip",attrs:{filter:"","filter-icon":"mdi-chevron-down","input-value":!0},on:{click:function(t){return e.sortRecipes("name","desc")}}},[e._v("Nazwa")]),a("v-chip",{staticClass:"mr-2 sort-chip",attrs:{filter:"","filter-icon":"mdi-chevron-up","input-value":!0},on:{click:function(t){return e.sortRecipes("rating","asc")}}},[e._v("Ocena")]),a("v-chip",{staticClass:"mr-2 sort-chip",attrs:{filter:"","filter-icon":"mdi-chevron-down","input-value":!0},on:{click:function(t){return e.sortRecipes("rating","desc")}}},[e._v("Ocena")]),a("v-row",{},e._l(e.recipes,(function(t,r){return a("v-col",{key:t.id,attrs:{cols:"12",md:"4",sm:"6"}},[a("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/recipe/"+t.id}},[a("v-card",{},[a("v-card-title",{staticClass:"justify-center"},[a("img",{staticStyle:{"max-width":"95%"},attrs:{src:t.photo,alt:""}})]),a("v-card-text",{staticClass:"text-center"},[a("div",{},[a("div",{staticClass:"caption grey--text"},[e._v("Przepis")]),a("div",{},[e._v(e._s(t.name))])]),a("div",{},[a("div",{staticClass:"caption grey--text"},[e._v("Użytkownik")]),a("div",{},[e._v(e._s(t.userName))])]),a("div",{},[a("div",{staticClass:"caption grey--text"},[e._v("Dodano")]),a("div",{},[e._v(e._s(t.date))])]),a("div",{},[a("div",{staticClass:"caption grey--text"},[e._v("Ocena")]),e._l(e.getRating(t.rating),(function(t){return a("v-icon",{key:t.rating,attrs:{color:"yellow darken-1",size:20}},[e._v("mdi-star")])})),e._l(5-e.getRating(t.rating),(function(t){return a("v-icon",{key:t.rating,attrs:{color:"yellow darken-1",size:20}},[e._v("mdi-star-outline")])}))],2)])],1)],1)],1)})),1)],1)},he=[],ge=(a("13d5"),{props:["givenRecipes"],computed:{recipes:function(){var e=this.$store.getters.getRecipes,t=[];if("/myprofile"==this.$route.path){for(var a=0;a<e.length;a++)e[a].userName==localStorage.getItem("userName")&&t.push(e[a]);return t}return this.givenRecipes?this.givenRecipes:e}},methods:{getRating:function(e){return 0!=e.length?e.reduce((function(e,t){return e+t}))/e.length:0},sortRecipes:function(e,t){this.$store.dispatch("sortRecipes",{sortBy:e,sortType:t})}}}),be=ge,we=(a("cccb"),a("cc20")),ye=a("62ad"),_e=Object(p["a"])(be,fe,he,!1,null,null,null),ke=_e.exports;v()(_e,{VCard:h["a"],VCardText:g["b"],VCardTitle:g["c"],VChip:we["a"],VCol:ye["a"],VContainer:L["a"],VIcon:R["a"],VRow:W["a"]});var xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"recipe-container"},[a("v-row",{},[a("v-col",{attrs:{cols:"12",md:"8",sm:"8"}},[a("img",{staticClass:"recipe-img",attrs:{src:e.recipe.photo,alt:""}})]),a("v-col",{staticClass:"justify-center d-flex flex-column",attrs:{cols:"12",md:"4",sm:"4"}},[a("div",{staticClass:"d-flex justify-end"},[this.recipe.savedByUsers.includes(e.user.docId)||null==e.user.docId||e.user.docId==e.recipe.userID?e._e():a("v-btn",{staticClass:"white--text d-flex align-center",attrs:{depressed:"",color:"teal"},on:{click:e.saveRecipe}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-plus")]),a("p",{staticClass:"ma-0"},[e._v("Zapisz")])],1),e.user.docId==e.recipe.userID?a("v-btn",{staticClass:"white--text d-flex align-center",attrs:{depressed:"",color:"teal"},on:{click:e.editRecipe}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-pencil")]),a("p",{staticClass:"ma-0"},[e._v("Edytuj")])],1):e._e(),!this.recipe.savedByUsers.includes(e.user.docId)?e._e():a("v-btn",{staticClass:"white--text d-flex align-center",attrs:{depressed:"",color:"grey"},on:{click:e.unSaveRecipe}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-check")]),a("p",{staticClass:"ma-0"},[e._v("Zapisano")])],1)],1),a("h2",{staticClass:"display-1"},[e._v(e._s(e.recipe.name))]),a("p",[e._v("Dodano: "+e._s(e.recipe.date))]),a("div",{staticClass:"d-flex"},[e._l(e.rating,(function(t,r){return a("v-icon",{key:t.rating,attrs:{color:"yellow darken-1",size:20}},[e._v("mdi-star")])})),e._l(5-e.rating,(function(t,r){return a("v-icon",{key:t.rating,attrs:{color:"yellow darken-1",size:20}},[e._v("mdi-star-outline")])})),a("v-dialog",{attrs:{persistent:"","max-width":"400"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({staticClass:"ml-2 d-flex white--text align-center",attrs:{color:"teal",depressed:""},on:{click:function(t){e.selectedStar=null}}},r),[a("v-icon",{attrs:{left:""}},[e._v("mdi-star")]),a("p",{staticClass:"ma-0"},[e._v("Oceń")])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",{},[a("v-card-title",{staticClass:"headline teal white--text",attrs:{color:"teal",teal:"","primary-title":""}},[e._v("Oceń przepis!")]),a("v-card-text",{staticClass:"pa-5 justify-center d-flex"},e._l(e.starType,(function(t,r){return a("v-icon",{key:r,staticClass:"recipe-star",attrs:{color:"yellow darken-1",size:t.size},on:{mouseleave:e.resetStars,mouseenter:function(t){return e.fillStars(r)},click:function(t){return e.selectStar(r)}}},[e._v(e._s(t.name))])})),1),a("v-divider"),a("v-card-actions",[a("v-btn",{staticClass:"white--text",attrs:{color:"teal"},on:{click:e.rateRecipe}},[e._v("Wyślij")]),a("v-btn",{staticClass:"white--text",attrs:{color:"error"},on:{click:e.closeDialog}},[e._v("Zamknij")])],1)],1)],1)],2),a("div",[a("p",[e._v("Autor: "+e._s(e.recipe.userName))])])])],1),a("v-row",{staticClass:"flex-column"},[a("h2",{staticClass:"title"},[e._v("Opis:")]),a("p",[e._v(e._s(e.recipe.description))])]),a("v-row",{staticClass:"flex-column"},[a("h2",{staticClass:"title"},[e._v("Składniki:")]),a("p",[e._v(e._s(e.recipe.ingredients))])]),a("v-row",{staticClass:"flex-column"},[a("h2",{staticClass:"title"},[e._v("Przepis:")]),a("p",[e._v(e._s(e.recipe.instructions))])])],1)},Ce=[],Ie={data:function(){return{saved:!1,currentUserID:localStorage.getItem("docId"),dialog:!1,selectedStar:null,starType:[{name:"mdi-star-outline",size:50},{name:"mdi-star-outline",size:50},{name:"mdi-star-outline",size:50},{name:"mdi-star-outline",size:50},{name:"mdi-star-outline",size:50}]}},computed:{recipe:function(){return this.$store.getters.getCurrentRecipe},user:function(){return this.$store.getters.getUserData},rating:function(){return this.recipe.rating.length>0?this.recipe.rating.reduce((function(e,t){return e+t}))/this.recipe.rating.length:0}},created:function(){this.$store.dispatch("loadRecipes")},methods:{saveRecipe:function(){if(localStorage.getItem("token")){var e=this.recipe;e.savedByUsers||(e.savedByUsers=[]),e.savedByUsers.includes(localStorage.getItem("docId"))||(e.savedByUsers.push(localStorage.getItem("docId")),this.saved=!0),this.$store.dispatch("updateRecipe",e)}else alert("Musisz się zalogować!")},unSaveRecipe:function(){var e=this.recipe;e.savedByUsers||(e.savedByUsers=[]);for(var t=0;t<e.savedByUsers.length;t++)e.savedByUsers[t]==localStorage.getItem("docId")&&e.savedByUsers.splice(t,1);this.$store.dispatch("updateRecipe",e),this.saved=!1},editRecipe:function(){this.$router.push("/recipeform/"+this.recipe.id)},rateRecipe:function(){if(null!=this.selectedStar){Array.isArray(this.recipe.rating)||(this.recipe.rating=[]),this.recipe.rating.push(this.selectedStar),this.$store.dispatch("updateRecipe",this.recipe);for(var e=0;e<5;e++)this.starType[e].name="mdi-star-outline",this.starType[e].size=50;this.dialog=!1}},fillStars:function(e){for(var t=0;t<e+1;t++)this.starType[t].name="mdi-star"},closeDialog:function(){this.dialog=!1;for(var e=0;e<5;e++)this.starType[e].name="mdi-star-outline",this.starType[e].size=50},resetStars:function(){for(var e=0;e<5;e++)(null==this.selectedStar||this.selectedStar<=e)&&(this.starType[e].name="mdi-star-outline")},selectStar:function(e){var t=!1;null==this.selectedStar||this.selectedStar!=e+1?this.selectedStar=e+1:this.selectedStar==e+1&&(t=!0);for(var a=0;a<5;a++)a==e?(this.starType[a].size=80,this.starType[a].name="mdi-star"):(this.starType[a].size=50,this.starType[a].name="mdi-star-outline"),this.starType[a].name=a<=e?"mdi-star":"mdi-star-outline",t&&(this.starType[a].name="mdi-star-outline",this.starType[a].size=50,this.selectedStar=null)}}},De=Ie,Ve=(a("dbc3"),Object(p["a"])(De,xe,Ce,!1,null,null,null)),Ue=Ve.exports;v()(Ve,{VBtn:f["a"],VCard:h["a"],VCardActions:g["a"],VCardText:g["b"],VCardTitle:g["c"],VCol:ye["a"],VContainer:L["a"],VDialog:b["a"],VDivider:w["a"],VIcon:R["a"],VRow:W["a"]});var Re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"recipe-form-card"},[a("v-card-title",{staticClass:"headline teal white--text",attrs:{color:"teal",teal:"","primary-title":""}},[e._v(e._s(e.$route.params.id?"Edytuj przepis!":"Dodaj przepis!"))]),a("v-card-text",{staticClass:"pa-5"},[a("v-form",{ref:"form"},[a("v-row",{},[a("v-col",{attrs:{md:"8",cols:"12"}},[a("v-text-field",{attrs:{color:"teal",label:"Tytuł",rules:[e.rules.required]},model:{value:e.recipe.name,callback:function(t){e.$set(e.recipe,"name",t)},expression:"recipe.name"}}),a("v-text-field",{attrs:{color:"teal",label:"Opis",rules:[e.rules.required]},model:{value:e.recipe.description,callback:function(t){e.$set(e.recipe,"description",t)},expression:"recipe.description"}}),a("v-text-field",{attrs:{color:"teal",label:"Składniki",rules:[e.rules.required]},model:{value:e.recipe.ingredients,callback:function(t){e.$set(e.recipe,"ingredients",t)},expression:"recipe.ingredients"}}),a("v-text-field",{attrs:{color:"teal",label:"Przepis",rules:[e.rules.required]},model:{value:e.recipe.instructions,callback:function(t){e.$set(e.recipe,"instructions",t)},expression:"recipe.instructions"}})],1),a("v-col",{attrs:{md:"4",cols:"12"}},[a("div",{staticClass:"text-center "},[""==e.recipe.photo?a("v-avatar",{attrs:{size:170}},[a("v-icon",{staticClass:"grey--text",attrs:{dark:"",size:50}},[e._v("mdi-camera")])],1):e._e(),a("div",{staticClass:"avatar-recipe",attrs:{tile:"",color:""}},[""!=e.recipe.photo?a("img",{attrs:{src:e.recipe.photo,width:"100%",height:"auto",alt:""}}):e._e()])],1),a("v-file-input",{attrs:{color:"teal",label:"Zdjęcie",counter:"","show-size":"","prepend-icon":"mdi-camera"},on:{change:e.avatar}})],1)],1)],1)],1),a("v-divider"),a("v-card-actions",{staticClass:"pa-4"},[a("v-btn",{staticClass:"white--text",attrs:{color:"teal"},on:{click:e.submit}},[e._v("Wyślij")])],1)],1)},Se=[],je=(a("a4d3"),a("e01a"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),{data:function(){return{rules:{required:function(e){return!!e||"To pole jest wymagane!"}},file:null}},methods:{submit:function(){if(this.$refs.form.validate())if(null!=this.$route.params.id){var e={description:this.recipe.description,ingredients:this.recipe.ingredients,instructions:this.recipe.instructions,name:this.recipe.name,rating:this.recipe.rating,date:this.getDate(),userName:this.$store.getters.getUserData.userName,userID:this.$store.getters.getUserData.docId,file:this.file,savedByUsers:this.recipe.savedByUsers,photo:this.recipe.photo,id:this.recipe.id};this.$store.dispatch("editRecipe",e)}else{var t={description:this.recipe.description,ingredients:this.recipe.ingredients,instructions:this.recipe.instructions,name:this.recipe.name,rating:[],date:this.getDate(),userName:this.$store.getters.getUserData.userName,userID:this.$store.getters.getUserData.docId,file:this.file,savedByUsers:[]};console.log(t),this.$store.dispatch("addRecipe",t)}},getDate:function(){var e=new Intl.DateTimeFormat("pl"),t=new Date,a=e.format(t);return a=a+" "+t.getHours()+":"+t.getMinutes(),a},avatar:function(e){e?(this.recipe.photo=URL.createObjectURL(e),this.file=e):this.recipe.photo=null}},computed:{recipe:function(){return this.$store.getters.getCurrentRecipe}},watch:{"$route.path":function(){this.$store.commit("destroyCurrentRecipe")}}}),Te=je,ze=(a("85cb"),a("23a7")),$e=Object(p["a"])(Te,Re,Se,!1,null,null,null),Ne=$e.exports;v()($e,{VAvatar:E["a"],VBtn:f["a"],VCard:h["a"],VCardActions:g["a"],VCardText:g["b"],VCardTitle:g["c"],VCol:ye["a"],VDivider:w["a"],VFileInput:ze["a"],VForm:y["a"],VIcon:R["a"],VRow:W["a"],VTextField:k["a"]});var Ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{},[a("v-row",{staticClass:"align-center flex-column"},[a("v-avatar",{attrs:{size:200}},[a("img",{attrs:{src:e.currentUser.photo,alt:""}})]),a("h2",[e._v(e._s(e.currentUser.userName))]),a("p",[e._v(e._s(e.currentUser.bio))]),a("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/editmyprofile"}},[a("v-btn",{staticClass:"white--text",attrs:{color:"teal"}},[e._v("Edytuj Profil")])],1)],1),a("Home")],1)},Le=[],Be={computed:{currentUser:function(){return this.$store.getters.getUserData}},components:{Home:ke}},Oe=Be,Ae=Object(p["a"])(Oe,Ee,Le,!1,null,null,null),Fe=Ae.exports;v()(Ae,{VAvatar:E["a"],VBtn:f["a"],VContainer:L["a"],VRow:W["a"]});var Pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"recipe-form-card"},[a("v-card-title",{staticClass:"headline teal white--text",attrs:{color:"teal",teal:"","primary-title":""}},[e._v("Edytuj profil")]),a("v-card-text",{staticClass:"pa-5"},[a("v-form",{ref:"form"},[a("v-row",{},[a("v-col",{attrs:{md:"8",cols:"12"}},[a("v-text-field",{attrs:{color:"teal",label:"Biografia"},model:{value:e.userData.bio,callback:function(t){e.$set(e.userData,"bio",t)},expression:"userData.bio"}})],1),a("v-col",{attrs:{md:"4",cols:"12"}},[a("div",{staticClass:"text-center "},[e.url?e._e():a("v-avatar",{attrs:{size:170}},[a("v-icon",{staticClass:"grey--text",attrs:{dark:"",size:50}},[e._v("mdi-camera")])],1),a("div",{staticClass:"avatar-recipe",attrs:{tile:"",color:""}},[e.url?a("img",{attrs:{src:e.url,width:"100%",height:"auto",alt:""}}):e._e()])],1),a("v-file-input",{attrs:{color:"teal",label:"Awatar",counter:"","show-size":"","prepend-icon":"mdi-camera",rules:[e.rules.isPhoto]},on:{change:e.avatar}})],1)],1)],1)],1),a("v-divider"),a("v-card-actions",{staticClass:"pa-4"},[a("v-btn",{staticClass:"white--text",attrs:{color:"teal"},on:{click:e.submit}},[e._v("Wyślij")])],1)],1)},We=[],Me={data:function(){return{photo:"",rules:{required:function(e){return!!e||"To pole jest wymagane!"},isPhoto:function(e){return!e||e.type.includes("image")||"Zdjęcie albo nic!"}},url:localStorage.getItem("photo"),file:null}},computed:{userData:function(){return this.$store.getters.getUserData}},methods:{submit:function(){if(this.$refs.form.validate()){var e={bio:this.userData.bio,file:this.file,photo:this.photo,docId:localStorage.getItem("docId")};localStorage.setItem("bio",e.bio),null==e.file?(e.photo=this.url,this.$store.dispatch("editUserWithoutFile",e)):this.$store.dispatch("editUserWithFile",e)}},avatar:function(e){e?(this.url=URL.createObjectURL(e),this.photo=e.name,this.file=e):this.url=null}},created:function(){this.$store.dispatch("autoLogin")}},qe=Me,Ze=Object(p["a"])(qe,Pe,We,!1,null,null,null),He=Ze.exports;v()(Ze,{VAvatar:E["a"],VBtn:f["a"],VCard:h["a"],VCardActions:g["a"],VCardText:g["b"],VCardTitle:g["c"],VCol:ye["a"],VDivider:w["a"],VFileInput:ze["a"],VForm:y["a"],VIcon:R["a"],VRow:W["a"],VTextField:k["a"]});var Ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-tabs",{staticClass:"ma-4",attrs:{centered:!0,color:"teal",grow:!0}},[a("v-tabs-slider"),a("v-tab",{attrs:{href:"#tab-0"}},[e._v(" "+e._s(e.tabs[0])+" ")]),a("v-tab",{attrs:{href:"#tab-1"}},[e._v(" "+e._s(e.tabs[1])+" ")]),a("v-tab-item",{attrs:{value:"tab-0"}},[a("v-card",{attrs:{flat:"",tile:""}},[a("v-card-text",[a("Home",{attrs:{givenRecipes:e.myRecipes}})],1)],1)],1),a("v-tab-item",{attrs:{value:"tab-1"}},[a("v-card",{attrs:{flat:"",tile:""}},[a("v-card-text",[a("Home",{attrs:{givenRecipes:e.savedRecipes}})],1)],1)],1)],1)},Ke=[],Je={data:function(){return{tabs:["Moje przepisy","Zapisane przepisy"]}},components:{Home:ke},computed:{myRecipes:function(){return this.$store.getters.getMyRecipes},savedRecipes:function(){return this.$store.getters.getSavedRecipes}}},Ye=Je,Qe=a("71a3"),Xe=a("c671"),et=a("fe57"),tt=a("9a96"),at=Object(p["a"])(Ye,Ge,Ke,!1,null,null,null),rt=at.exports;v()(at,{VCard:h["a"],VCardText:g["b"],VTab:Qe["a"],VTabItem:Xe["a"],VTabs:et["a"],VTabsSlider:tt["a"]}),r["a"].use(ee["a"]);var st=[{path:"/form",component:ce},{path:"/view",component:ve},{path:"/",component:ke},{path:"/recipe/:id",component:Ue},{path:"/recipeform/",component:Ne},{path:"/recipeform/:id",component:Ne},{path:"/myprofile",component:Fe},{path:"/editmyprofile",component:He},{path:"/cookbook",component:rt}],it=new ee["a"]({mode:"history",base:"/",routes:st});it.beforeEach((function(e,t,a){"/"!=it.history.pending.path&&it.history.pending.path!="/recipe/"+it.history.pending.params.id?localStorage.getItem("token")?a():a("/"):a()}));var ot=it,nt=(a("4160"),a("b64b"),a("159b"),a("bc3a")),ct=a.n(nt),lt=(ct.a.create({baseURL:"https://identitytoolkit.googleapis.com/v1/"}),{errors:null}),ut={getSignUpErrors:function(e){return e.errors}},dt={setSignUpErrors:function(e,t){e.errors=t}},pt={signUp:function(e,t){var a=e.commit,r=e.dispatch;ta.createUserWithEmailAndPassword(t.email,t.password).then((function(e){console.log(e.user);var s={userId:e.user.uid,token:e.user.refreshToken,userName:t.userName},i=new Date,o=3600,n=new Date(i.getTime()+1e3*o);localStorage.setItem("token",s.token),localStorage.setItem("userId",s.userId),localStorage.setItem("expirationDate",n),a("setUserData",s),delete t.password,r("saveNewUser",t),r("autoLogout",o)})).catch((function(e){a("setSignUpErrors",e)}))},saveNewUser:function(e,t){var a=e.getters;a.getUserData.token&&ea.collection("users").add(t)}},mt={state:lt,getters:ut,mutations:dt,actions:pt},vt=ct.a.create({baseURL:"https://coolrecipes-f4e21.firebaseio.com/"}),ft=vt,ht={autoLogin:function(e){var t=e.commit,a=e.getters,r=e.dispatch,s=localStorage.getItem("token");if(s){var i=localStorage.getItem("expirationDate"),o=new Date;if(Date.parse(o)>=Date.parse(i))r("logout");else{var n={};for(var c in a.getUserData)n[c]=localStorage.getItem(c);t("setUserData",n)}}}},gt={actions:ht},bt={logout:function(e){var t=e.commit,a=e.getters;t("clearAuthData");var r=a.getUserData;for(var s in r)"SILENT"!=localStorage.getItem(s)&&localStorage.removeItem(s);ta.signOut()},autoLogout:function(e,t){var a=e.dispatch;setTimeout((function(){a("logout")}),1e3*t)}},wt={actions:bt},yt={errors:null},_t={getLoginErrors:function(e){return e.errors}},kt={setErrors:function(e,t){e.errors=t}},xt={signIn:function(e,t){var a=e.commit,r=e.dispatch;ta.signInWithEmailAndPassword(t.email,t.password).then((function(e){ea.collection("users").get().then((function(s){s.forEach((function(s){if(s.data().email==t.email){var i=new Date,o=3600,n=new Date(i.getTime()+1e3*o),c={token:e.user.refreshToken,userId:e.user.uid,userName:s.data().userName,expirationDate:n,photo:s.data().photo,bio:s.data().bio,docId:s.id,email:s.data().email};for(var l in c)localStorage.setItem(l,c[l]);a("setUserData",c),r("autoLogout",o)}}))}))})).catch((function(e){console.log("no i dupa",e),a("setErrors",e)}))}},Ct={state:yt,getters:_t,mutations:kt,actions:xt},It=a("8aa5"),Dt=a.n(It),Vt={users:[]},Ut={getUsers:function(e){return e.users}},Rt={setUsers:function(e,t){e.users=t}},St={getUsers:function(e){var t=e.commit;ft.get("/users.json").then((function(e){var a=[];for(var r in e.data)a.push(e.data[r].userName);t("setUsers",a)})).catch((function(e){return console.log(e)}))},editUserWithFile:function(e,t){e.dispatch;var a=e.commit,r=Xt.storage().ref("avatars/"+localStorage.getItem("userId")+"/"+t.file.name),s=r.put(t.file);s.on("state_changed",(function(e){}),(function(e){}),(function(){s.snapshot.ref.getDownloadURL().then((function(e){delete t.file,t.photo=e,localStorage.setItem("photo",t.photo),a("setUserData",t);var r=t.docId;delete t.docId,ea.collection("users").doc(r).update(t)}))}))},editUserWithoutFile:function(e,t){e.dispatch;var a=e.commit,r=t.docId;delete t.docId,delete t.file,a("setUserData",t),ea.collection("users").doc(r).update(t)}},jt={state:Vt,getters:Ut,mutations:Rt,actions:St},Tt={recipes:[],currentRecipe:{description:"",ingredients:"",instructions:"",name:"",rating:0,date:"",userName:"",photo:"",savedByUsers:[]}},zt={getRecipes:function(e){for(var t=0;t<e.recipes.length;t++)Array.isArray(e.recipes[t].rating)||(e.recipes[t].rating=[]);return e.recipes},getCurrentRecipe:function(e){return e.currentRecipe},getSavedRecipes:function(e){for(var t=[],a=0;a<e.recipes.length;a++)e.recipes[a].savedByUsers&&e.recipes[a].savedByUsers.includes(localStorage.getItem("docId"))&&t.push(e.recipes[a]);return t},getMyRecipes:function(e){for(var t=[],a=0;a<e.recipes.length;a++)e.recipes[a].userID==localStorage.getItem("docId")&&t.push(e.recipes[a]);return t}},$t={setRecipes:function(e,t){e.recipes=t},setCurrentRecipe:function(e,t){e.recipes.forEach((function(a,r){if(a.id==t)for(var s in a)e.currentRecipe[s]=a[s]}))},destroyCurrentRecipe:function(e){for(var t in e.currentRecipe)e.currentRecipe[t]=""}},Nt={loadRecipes:function(e){var t=e.commit;ea.collection("recipes").orderBy("date","desc").get().then((function(e){var a=[];e.forEach((function(e){var t={};for(var r in e.data())t[r]=e.data()[r];t["id"]=e.id,a.push(t)})),console.log(a),t("setRecipes",a);var r=ot.history.current.params.id;r&&t("setCurrentRecipe",r)}))},setCurrentRecipe:function(e,t){var a=e.commit;e.dispatch;a("setCurrentRecipe",t)},addRecipe:function(e,t){var a=e.dispatch;if(null!=t.file){var r=Xt.storage().ref("recipes/"+localStorage.getItem("userId")+"/"+t.file.name),s=r.put(t.file);s.on("state_changed",(function(e){}),(function(e){}),(function(){s.snapshot.ref.getDownloadURL().then((function(e){delete t.file,t.photo=e,ea.collection("recipes").add(t),a("loadRecipes")}))}))}else delete t.file,t.photo="https://via.placeholder.com/150",ea.collection("recipes").add(t),a("loadRecipes")},updateRecipe:function(e,t){e.commit;ea.collection("recipes").doc(t.id).update(t)},editRecipe:function(e,t){var a=e.dispatch;if(null!=t.file){var r=Xt.storage().ref("recipes/"+localStorage.getItem("userId")+"/"+t.file.name),s=r.put(t.file);s.on("state_changed",(function(e){}),(function(e){}),(function(){s.snapshot.ref.getDownloadURL().then((function(e){delete t.file,t.photo=e,ea.collection("recipes").doc(recipe.id).update(t)}))}))}else delete t.file,a("updateRecipe",t)},sortRecipes:function(e,t){var a=e.commit;ea.collection("recipes").orderBy(t.sortBy,t.sortType).get().then((function(e){var t=[];e.forEach((function(e){var a={};for(var r in e.data())a[r]=e.data()[r];a["id"]=e.id,t.push(a)})),a("setRecipes",t)}))}},Et={state:Tt,getters:zt,mutations:$t,actions:Nt},Lt={addPhoto:function(e,t){e.commit;var a=Xt.storage().ref("avatars/"+localStorage.getItem("userId")+"/"+t.name);a.put(t)}},Bt={actions:Lt},Ot={errors:null},At={getGoogleErrors:function(e){return e.errors}},Ft={setGoogleErrors:function(e,t){e.errors=t}},Pt={signInWithGoogle:function(e){var t=e.commit,a=e.getters,r=e.dispatch;Xt.auth().signInWithPopup(aa).then((function(e){for(var t=a.getUsers,s=!1,i=e.user,o=0;o<t.length;o++)t[o].userName==i.displayName&&(s=!0);if(!s){var n={userName:i.displayName,photo:i.photoURL,email:i.email,bio:""};ea.collection("users").add(n),n.token=i.refreshToken,n.userId=i.uid,r("fetchGoogleUser",n)}})).catch((function(e){t("setGoogleErrors",e)}))},fetchGoogleUser:function(e,t){var a=e.commit,r=e.dispatch;ea.collection("users").get().then((function(e){e.forEach((function(e){if(e.data().email==t.email){var s={};for(var i in e.data())s[i]=e.data()[i];s.token=t.token,s.userId=t.userId,s.docId=e.id;var o=new Date,n=3600,c=new Date(o.getTime()+1e3*n);for(var l in s.expirationDate=c,s)localStorage.setItem(l,s[l]);a("setUserData",s),r("autoLogout",n)}}))}))}},Wt={state:Ot,getters:At,mutations:Ft,actions:Pt},Mt={errors:null},qt={getFacebookErrors:function(e){return e.errors}},Zt={setFacebookErrors:function(e,t){e.errors=t}},Ht={signInWithFacebook:function(e){var t=e.commit,a=e.getters,r=e.dispatch;Xt.auth().signInWithPopup(ra).then((function(e){for(var t=a.getUsers,s=!1,i=e.user,o=0;o<t.length;o++)t[o].userName==i.displayName&&(s=!0);if(!s){var n={userName:i.displayName,photo:i.photoURL,email:i.email,bio:""};ea.collection("users").add(n),n.token=i.refreshToken,n.userId=i.uid,r("fetchFacebookUser",n)}})).catch((function(e){t("setFacebookErrors",e)}))},fetchFacebookUser:function(e,t){var a=e.commit,r=e.dispatch;ea.collection("users").get().then((function(e){e.forEach((function(e){if(e.data().email==t.email){var s={};for(var i in e.data())s[i]=e.data()[i];s.token=t.token,s.userId=t.userId,s.docId=e.id;var o=new Date,n=3600,c=new Date(o.getTime()+1e3*n);for(var l in s.expirationDate=c,s)localStorage.setItem(l,s[l]);a("setUserData",s),r("autoLogout",n)}}))}))}},Gt={state:Mt,getters:qt,mutations:Zt,actions:Ht};r["a"].use(se["a"]);var Kt=new se["a"].Store({modules:{register:mt,autoLogin:gt,logout:wt,login:Ct,users:jt,recipes:Et,files:Bt,googleAuth:Wt,facebookAuth:Gt},state:{userData:{userId:null,token:null,userName:null,expirationDate:null,photo:null,bio:null,docId:null,email:null}},getters:{getUserData:function(e){return e.userData}},mutations:{setUserData:function(e,t){for(var a in t)e.userData[a]=t[a]},clearAuthData:function(e){var t=e.userData;Object.keys(t).forEach((function(e){t[e]=null}))}}}),Jt=a("f309");r["a"].use(Jt["a"]);var Yt=new Jt["a"]({});a("59ca"),a("ea7b"),a("e71f"),a("588e");r["a"].config.productionTip=!1;var Qt={apiKey:"AIzaSyDL8y7NwSxsYvaNf8M7K_MwMoNMhgMSzow",authDomain:"coolrecipes-f4e21.firebaseapp.com",databaseURL:"https://coolrecipes-f4e21.firebaseio.com",projectId:"coolrecipes-f4e21",storageBucket:"coolrecipes-f4e21.appspot.com",messagingSenderId:"387025921582",appId:"1:387025921582:web:bffc515356a4005b79a1bf",measurementId:"G-4BK3297DFV"},Xt=Dt.a.initializeApp(Qt),ea=Dt.a.firestore(),ta=Dt.a.auth(),aa=new Dt.a.auth.GoogleAuthProvider,ra=new Dt.a.auth.FacebookAuthProvider;new r["a"]({router:ot,store:Kt,vuetify:Yt,render:function(e){return e(X)}}).$mount("#app")},"85cb":function(e,t,a){"use strict";var r=a("3d6e"),s=a.n(r);s.a},cccb:function(e,t,a){"use strict";var r=a("4230"),s=a.n(r);s.a},dbc3:function(e,t,a){"use strict";var r=a("0483"),s=a.n(r);s.a}});
//# sourceMappingURL=app.57c7c746.js.map